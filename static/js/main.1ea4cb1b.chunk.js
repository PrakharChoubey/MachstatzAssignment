(this.webpackJsonpassignment=this.webpackJsonpassignment||[]).push([[0],{126:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},135:function(e,t,a){},253:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(20),i=a.n(n),c=(a(126),a(16)),l=a(21),o=a.n(l),d=a(33),u=a(9),m=(a(128),a(2)),p=a(255),j=a(256),b=a(112),h=a(259),f=(a(129),a(22)),O=a(257),x=a(260),v=a(6),w=a(7),g=a(11),N=a(13),_=a(3),y=a(40),U=a(258),k=a(1),C=["label"],T=function(e){var t=e.label,a=Object(_.a)(e,C),r=Object(y.d)(a),s=Object(u.a)(r,2),n=s[0],i=s[1];return Object(k.jsx)("div",{className:"mb-2",children:Object(k.jsxs)(U.a.Group,{className:"mb-3",children:[Object(k.jsx)(U.a.Label,{htmlFor:n.name,children:t}),Object(k.jsx)(U.a.Control,Object(m.a)(Object(m.a)(Object(m.a)({className:"form-control ".concat(i.touched&&i.error&&"is-invalid")},n),a),{},{placeholder:"Enter Your "+t,value:a.value})),Object(k.jsx)("div",{id:"Custom-alert",className:"".concat(i.touched&&i.error&&"alert alert-danger"),children:Object(k.jsx)(y.a,{className:"alert alert-danger",role:"alert",name:n.name})})]})})},E=(a(135),a(35));a(75);f.a.configure();var S=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(){var e;Object(v.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={email:e.props.title?e.props.User.email:"",fist_name:e.props.title?e.props.User.fist_name:"",last_name:e.props.title?e.props.User.last_name:"",pwd:e.props.title?e.props.User.pwd:"",username:e.props.title?e.props.User.username:""},e.handleSubmit=function(t){e.props.addNewUser(t)},e.validate=E.a({firstName:E.b().max(20,"Must be 20 characters or less").required("This is a Required field"),lastName:E.b().max(20,"Must be 20 characters or less").required("This is a Required field"),username:E.b().max(15,"Must be 20 characters or less").required("This is a Required field"),email:E.b().email("Email is Invalid").required("Email is Required").test("unique","Email already exist",(function(t){return!!e.props.title||1!==e.props.allUsers.filter((function(e){return e.email===t})).length})),password:E.b().min(5,"Password Must be atleast 5 characters or more").required("Password is required")}),e}return Object(w.a)(a,[{key:"render",value:function(){var e=this;return Object(k.jsx)(y.c,{initialValues:this.state,validationSchema:this.validate,onSubmit:function(t){return e.handleSubmit(t)},children:function(t){return Object(k.jsxs)("div",{className:"Custom_form ",children:[Object(k.jsx)("h1",{className:" font-weight-bold-display-4",children:e.props.title?e.props.title:"Add New User"}),Object(k.jsx)("hr",{}),Object(k.jsxs)(y.b,{children:[Object(k.jsx)(T,{id:e.props.dis&&"disabled",value:e.props.title&&(e.state.fist_name||e.props.User.first_name),label:"First Name",name:"firstName",type:"text",className:"disabled"}),Object(k.jsx)(T,{id:e.props.dis&&"disabled",value:e.props.title&&e.state.last_name,label:"Last Name",name:"lastName",type:"text"}),Object(k.jsx)(T,{id:e.props.dis&&"disabled",value:e.props.title&&e.state.username,label:"User Name",name:"username",type:"text"}),Object(k.jsx)(U.a.Label,{children:"Profiles"}),Object(k.jsx)(U.a.Select,{className:"mb-3",id:"dis",disabled:!0,children:Object(k.jsx)("option",{children:"Select"})}),Object(k.jsx)(T,{id:e.props.dis?"disabled":"formBasicEmail",value:e.props.title&&e.state.email,label:"Email",name:"email",type:"text"}),Object(k.jsx)(T,{id:e.props.dis?"disabled":"formBasicPassword",value:e.props.title&&e.state.pwd,label:"Password",name:"password",type:"password"}),Object(k.jsx)(x.a,{className:"btn btn-dark mt-3 mr-6 ".concat(e.props.dis?"d-none":""),variant:"primary",type:"submit",children:"Submit"})]})]})}})}}]),a}(r.Component);f.a.configure();var P=function(e){var t=Object(r.useState)(!1),a=Object(u.a)(t,2),s=a[0],n=a[1],i=function(){return n(!1)};return Object(k.jsx)(b.a,{lg:3,md:4,xs:6,children:Object(k.jsxs)(h.a,{bg:"info",className:"mb-3 custom_grid",style:{width:"14.8rem"},children:[Object(k.jsxs)(h.a.Header,{children:[Object(k.jsxs)(O.a,{show:s,onHide:i,children:[Object(k.jsx)(O.a.Header,{closeButton:!0}),Object(k.jsx)(O.a.Body,{children:Object(k.jsx)(S,{User:Object(m.a)({},e),title:"Edit User Detail",dis:!0})}),Object(k.jsxs)(O.a.Footer,{children:[Object(k.jsx)(x.a,{variant:"secondary",onClick:i,children:"Close"}),Object(k.jsx)(x.a,{variant:"primary",className:"disabled",onClick:i,children:"Save Changes"})]})]}),Object(k.jsx)("span",{id:"Icon",title:"Edit",onClick:function(){n(!0)},children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"17",fill:"currentColor",className:"bi bi-pencil-fill",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"})})}),Object(k.jsx)("span",{id:"Icon",title:"Delete",onClick:function(){return e.clickHandler(e.email)},children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"20",fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"})})})]}),Object(k.jsxs)(h.a.Body,{className:"custom_card_body",children:[Object(k.jsx)("div",{className:"avatar-circle",style:{backgroundColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}()},children:Object(k.jsx)("span",{className:"initials",children:e.first_name?e.first_name.charAt(0).toUpperCase():e.fist_name?e.fist_name.charAt(0).toUpperCase():"?"})}),Object(k.jsxs)(h.a.Title,{id:"cardTitle",children:[e.fist_name||e.first_name+" "+e.last_name," "]})]})]})})};f.a.configure();var q=function(e){var t=function(t){e.getUserEmail(t)};return Object(k.jsx)(p.a,{className:"mt-4",children:Object(k.jsx)(j.a,{children:e.allUsers.map((function(e,a){return Object(r.createElement)(P,Object(m.a)(Object(m.a)({clickHandler:t},e),{},{key:a}))}))})})},H=a(261),B=function(e){Object(g.a)(a,e);var t=Object(N.a)(a);function a(e){var r;return Object(v.a)(this,a),(r=t.call(this,e)).toggle=s.a.createRef(),r.scroll=s.a.createRef(),r.state={open:!1},r}return Object(w.a)(a,[{key:"timeout",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"scrollToRef",value:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.timeout(350);case 2:window.scrollTo(0,this.toggle.current.offsetTop);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{ref:this.toggle,className:" mt-5 d-flex flex-column flex-wrap align-content-center",children:[Object(k.jsx)(x.a,{id:"add_id",onClick:function(){e.setState((function(e){return{open:!e.open}})),e.scrollToRef(e.scroll)},"aria-controls":"example-collapse-text","aria-expanded":this.state.open,children:this.state.open?"X":"+ Add New User"}),Object(k.jsx)(H.a,{in:this.state.open,children:Object(k.jsx)("div",{id:"example-collapse-text",ref:this.scroll,children:this.props.children})})]})}}]),a}(r.Component),I=a(65),M=a.n(I),R="http://15.207.229.231:8000/machstatz";var A=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],n=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.get("".concat(R,"/get_all_users"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(d.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={email:t.email,fist_name:t.firstName,last_name:t.lastName,pwd:t.password,username:t.username},M.a.post("".concat(R,"/add_new_user"),r).then((function(e){console.log("Response message",e.data.message)})).catch((function(e){return e})),f.a.success("New User Added - ".concat(r.fist_name),{position:f.a.POSITION.TOP_RIGHT}),window.scrollTo(0,0),s([].concat(Object(c.a)(a),[r]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(d.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.a.delete("".concat(R,"/delete_existing_user"),{params:{email:t}}).catch((function(e){return e}));case 2:f.a.warn("Deleted",{position:f.a.POSITION.TOP_LEFT}),r=a.filter((function(e){return e.email!==t})),s(r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){(function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:(t=e.sent)&&s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){}),[a]),Object(k.jsxs)("div",{className:"container mt-3 ",children:[Object(k.jsx)(j.a,{children:Object(k.jsx)(q,{allUsers:a,getUserEmail:l})}),Object(k.jsx)(j.a,{children:Object(k.jsx)(B,{children:Object(k.jsx)(S,{allUsers:a,addNewUser:i})})})]})},F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,262)).then((function(t){var a=t.getCLS,r=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),s(e),n(e),i(e)}))};a(252);i.a.render(Object(k.jsx)(s.a.StrictMode,{children:Object(k.jsx)(A,{})}),document.getElementById("root")),F()}},[[253,1,2]]]);
//# sourceMappingURL=main.1ea4cb1b.chunk.js.map